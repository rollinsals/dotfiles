# Default config for sway
#
# Read `man 5 sway` for a complete reference.

# global variables
# include /etc/sway/definitions
# Logo key. Use Mod1 for Alt and Mod4 for Super.
set $mod Mod4
set $alt Mod1
# Home row direction keys, like vim
set $left h
set $down j
set $up k
set $right l

# Quick screenchange keys
bindsym $mod+m workspace 1
bindsym $mod+n workspace 2
bindsym $mod+g workspace 3

bindsym $mod+Shift+m move container to workspace 1
bindsym $mod+Shift+n move container to workspace 2
bindsym $mod+Shift+g move container to workspace 3

# default shutdown and idle commands
set $shutdown wlogout --buttons-per-row 4 --margin-top 450 --margin-bottom 230  -p layer-shell
set $idle swayidle -w \
    timeout 300 'swaymsg "output * dpms off"' \
    resume 'swaymsg "output * dpms on"'

# do your override of global definitions here - e.g. switching a theme
#set $theme /etc/sway/themes/matcha-green
set $theme ~/.config/themes/pi-theme
#set $gui-font IBM Plex Mono 8
#set $term-font Hack Nerd Font Mono 10 
gaps outer 10
gaps inner 4

# import theme specific definitions
include $theme/definitions

# Your preferred terminal emulator
set $term footclient
set $term_float_portrait $term --app-id=floating_shell_portrait
set $term_float_landscape $term --app-id=floating_shell_landscape

# Your preferred application launcher
# Note: pass the final command to swaymsg so that the resulting window can be opened
# on the original workspace that the command was run on.
set $launcher_options --background-color=$launcher-background-color --text-color=$launcher-text-color --selection-color=$launcher-selection-color --selection-text-color=$launcher-selection-text-color --match-color=$launcher-matching-color --selection-match-color=$launcher-sel-match-color --border-color=$launcher-border-color --lines=20 --width=50 --border-radius=10
set $menu fuzzel --icon-theme=$icon-theme --terminal "$term" --font="$launcher-font" $launcher_options
set $selwin sws.sh --dmenu-cmd "fuzzel --no-icons --dmenu $launcher_options" --format "%W | %A - %T" --font "$launcher-font"

### Lockscreen configuration
#
set $locking swaylock
### Idle configuration
# This will lock your screen after 300 seconds of inactivity, then turn off
# your displays after another 300 seconds, and turn your screens back on when
# resumed. It will also lock your screen before your computer goes to sleep.
#
set $idle swayidle -w \
    timeout 240 'light -G > /tmp/brightness && light -S 10' resume 'light -S $([ -f /tmp/brightness ] && cat /tmp/brightness || echo 100%)' \
    timeout 300 'exec $locking' \
    timeout 600 'swaymsg "output * dpms off"' \
    resume 'swaymsg "output * dpms on"' \
    before-sleep 'exec $locking'

# statusbar command
set $statusbar waybar

# pulseaudio command
set $pulseaudio pavucontrol

# help command
set $help $term_float_portrait mdcat -p $HOME/README.md

# calendar application
set $calendar $term_float_portrait khal interactive

# cpu / mem monitors
set $cpu_mon btop
set $mem_mon btop

# defines the custom menu in waybar
set $app_menu yad --icons --read-dir=/usr/share/applications --sort-by-name --icon-size=48 --title='Applications' --term='$term -- %s' --no-buttons --close-on-unfocus

# enable default input/output devices
include /etc/sway/inputs/*
include /etc/sway/outputs/*
#output * bg ~/Pictures/wall/cotton-candy-clouds.jpg fit

# enable default modes
include /etc/sway/modes/*

# run global sway scripts
include /etc/sway/config.d/*

# include scripts to set up theme files
include $HOME/.config/sway/themes/scripts/*

# include additional configs e.g. to autostart applications
# for changes to it please change the responding files
# or add new ones to the folder below
include $HOME/.config/sway/config.d/*
# include $HOME/.config/foot/foot.ini
